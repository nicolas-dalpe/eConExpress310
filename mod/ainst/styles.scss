$padding: 20px;

.ainst-donut-chart {
  position: relative;
  border-radius: 50%;
  overflow: hidden;
  margin: 0 auto;

  .slice {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
  }

  .chart-center {
    position: absolute;
    border-radius: 50%;
  
    span {
      display: block;
      text-align: center;
    }
  }
}

@mixin donut-chart() {
    $perc: 0;
    $size: 60px;
    $width: 12px;
    $base: var(--secondary);
    $center: #fff;
    $color: var(--primary);

    .ainst-donut-chart {
        width: $size;
        height: $size;
        background: $color;
        .slice {
            &.one {
                clip: rect(0 $size $size/2 0);
                background: $base;
            }
        
            &.two {
                clip: rect(0 $size/2 $size 0);
                background: $base;
            }
        }

        .chart-center {
            top: $width;
            left: $width;
            width: $size - ($width * 2);
            height: $size - ($width * 2);
            background: $center;
        
            span {
                font-size: 14px;
                line-height: $size - ($width * 2);
            }
        }
    }

    $item-count: 50;
    @for $i from 1 through $item-count {
        $perc: $i;
        $deg: ($perc/100*360)+deg;
        $deg1: ($perc/100*360+90)+deg;
        $deg2: 0deg;
        
        .ainst-donut-chart {
            &-#{$i} {
                .slice {
                    &.one {
                        transform: rotate($deg1);
                    }
                
                    &.two {
                        transform: rotate($deg2);
                    }
                }
            }
        }
    }


    @for $i from 51 through 100 {
        $perc: $i;
        $base: var(--secondary);
        $color: var(--primary);
        $deg: ($perc/100*360)+deg;
        $deg1: 90deg;
        $deg2: $deg;

        .ainst-donut-chart {
            &-#{$i} {
                background: $base;
                .slice {
                    &.one {
                        transform: rotate($deg1);
                        background: $color;
                    }
                
                    &.two {
                        transform: rotate($deg2);
                        background: $color;
                    }
                }
            }
        }
    }
}

@include donut-chart();


/* Fix scrolling issue */
#page-mod-ainst-view {
    #page {
        #region-main {
            > .card {
                overflow: visible !important;
            }
        }
    }
}

#page-mod-ainst-mod {
    .fdescription {
        &.required {
            .icon {
                margin-right: 0;
            }
        }
    }
}

#page-mod-ainst-index,
#page-mod-ainst-reorder_section {
    #page {
        #region-main {
            overflow: visible !important;
            > .card {
                overflow: visible;
            }
        }
    }
    &.jsenabled {
        #page {
            overflow-x: visible;
        }
    }
}

#region-main {
    .ainst-assignment {
        .ainst-course-box {
            margin-bottom: $padding;
        }
        h3 {
            font-size: 18px;
            font-weight: 600;
        }
        p, li {
            font-size: 16px;
        }
        .toolbox {
            margin-bottom: $padding;
            a:not(:last-child) {
                 margin-right: $padding;
            }
        }
        @media (max-width: 767px) {
            .toolbox {
                .btn {
                    margin-bottom: $padding;
                }
            }
        }
        &-timeline {
            display: table;
            align-items: center;
            margin: $padding auto;
            @media (max-width: 767px) {
                background: transparent;
                margin: 0 auto;
            }
            .btn-secondary {
                margin: $padding;
                @media (max-width: 767px) {
                    margin: 0;
                }
            }
        }
        .ainst-subsection {
            padding-left: $padding;
            padding-top: $padding;
            border-bottom: 1px solid var(--secondary);
            h2 {
                display: block !important;
            }
            .ainst-subsection-toggle-content {
                position: relative;
                padding: 0 $padding $padding 0;
                 @media (max-width: 767px) {
                    padding: 0 0 $padding 0;
                }
                &:after {
                    position: relative;
                    content: '';
                    clear: both;
                    display: block;
                }
            }
            &:last-child {
                border-bottom: none;
            }
        }
        &-boxes {
            display: flex;
            flex-direction: row;
            background: var(--light);
        }
        &-box {
            flex: 1;
            padding: $padding;
            display: flex;
            justify-content: space-between;
            flex-direction: column;
            font-size: 16px;
            img {
                width: 40px;
                height: auto;
            }
            .ainst-assignment-box-label {
                display: block;
                font-size: 16px;
                font-weight: 600;
                margin-bottom: 10px;
            }
        }
        &-weight {
            text-align: center;
        }
        &-time {
            color: var(--primary);
        }
        &-introduction {
            .modified {
                display: none;
            }
        }

        &-list {
            table {
                border: none;
                min-width: 100%;
                th {
                    position: sticky;
                    top: 50px; /* nav.navbar height */
                    z-index: 2;
                    background: #fff;
                    border-bottom: 1px solid var(--secondary);
                    border-right: none;
                    &[align="center"] {
                        text-align: center;
                    }
                }
                tbody {
                    tr {
                        td {
                            border-right: none;
                            vertical-align: middle;
                            border-bottom: 1px solid var(--secondary);
                        }
                        &:last-child {
                            td {
                                border-bottom: none;
                            }
                        }
                    }
                }
                td, th {
                    padding: 5px;
                }
            }
        }

        table {
            tfoot {
                td {
                    text-transform: uppercase;
                    font-weight: 600;
                    font-size: 14px;
                    border-top: 2px solid var(--gray);
                    border-right: 1px solid var(--secondary);
                    &:last-child {
                        border-right: none;
                    }
                }
            }
        }
    }
}

.ainst-dd-assignment-list {
    list-style: none;
}