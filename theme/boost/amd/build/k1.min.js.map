{"version":3,"sources":["../src/k1.js"],"names":["init","window","console","log","iframeH5P","document","getElementsByClassName","contentWindow","H5P","iframeVideo","instances","video","videoInterval","on","event","data","Video","ENDED","clearInterval","PLAYING","setInterval","getCurrentTime","PAUSED"],"mappings":"oIAAoB,QAAPA,CAAAA,IAAO,EAAM,CAGtBC,MAAM,CAACC,OAAP,CAAeC,GAAf,CAAmB,kBAAnB,EAHsB,GAMhBC,CAAAA,CAAS,CAAGC,QAAQ,CAACC,sBAAT,CAAgC,YAAhC,EAA8C,CAA9C,EAAiDC,aAAjD,CAA+DC,GAN3D,CAShBC,CAAW,CAAGL,CAAS,CAACM,SAAV,CAAoB,CAApB,EAAuBC,KATrB,CAYlBC,CAZkB,CAetBH,CAAW,CAACI,EAAZ,CAAe,aAAf,CAA8B,SAAUC,CAAV,CAAiB,CAC3C,OAAQA,CAAK,CAACC,IAAd,EACI,IAAKX,CAAAA,CAAS,CAACY,KAAV,CAAgBC,KAArB,CACIhB,MAAM,CAACC,OAAP,CAAeC,GAAf,CAAmB,OAAnB,EAGAe,aAAa,CAACN,CAAD,CAAb,CACJ,MAEA,IAAKR,CAAAA,CAAS,CAACY,KAAV,CAAgBG,OAArB,CACIlB,MAAM,CAACC,OAAP,CAAeC,GAAf,CAAmB,SAAnB,EAGAS,CAAa,CAAGQ,WAAW,CAAC,UAAW,CACnCnB,MAAM,CAACC,OAAP,CAAeC,GAAf,CAAmBM,CAAW,CAACY,cAAZ,EAAnB,CACH,CAF0B,CAExB,GAFwB,CAA3B,CAGJ,MAEA,IAAKjB,CAAAA,CAAS,CAACY,KAAV,CAAgBM,MAArB,CACIrB,MAAM,CAACC,OAAP,CAAeC,GAAf,CAAmB,QAAnB,EAGAe,aAAa,CAACN,CAAD,CAAb,CACA,MAtBR,CA4BH,CA7BD,CA8BH,C","sourcesContent":["export const init = () => {\n\n    // Make sure Moodle loads our stuff.\n    window.console.log('k1.js is loaded.');\n\n    // Access iframeH5P\n    const iframeH5P = document.getElementsByClassName('h5p-iframe')[0].contentWindow.H5P;\n\n    // Access iframeVideo\n    const iframeVideo = iframeH5P.instances[0].video;\n\n    // init videoInterval\n    let videoInterval;\n\n    // Check Video status\n    iframeVideo.on('stateChange', function (event) {\n        switch (event.data) {\n            case iframeH5P.Video.ENDED:\n                window.console.log('Ended');\n\n                // clear interval\n                clearInterval(videoInterval);\n            break;\n\n            case iframeH5P.Video.PLAYING:\n                window.console.log('Playing');\n\n                // every second, update the current time\n                videoInterval = setInterval(function() {\n                    window.console.log(iframeVideo.getCurrentTime());\n                }, 1000);\n            break;\n\n            case iframeH5P.Video.PAUSED:\n                window.console.log('Paused');\n\n                // clear interval\n                clearInterval(videoInterval);\n                break;\n\n            /* case iframeH5P.Video.BUFFERING:\n                window.console.log('Wait on your slow internet connection...');\n            break; */\n        }\n    });\n};"],"file":"k1.min.js"}